[
  {
    "objectID": "yellow_taxi_analysis.html",
    "href": "yellow_taxi_analysis.html",
    "title": "NYC Taxis Fare Prediction Analysis Report",
    "section": "",
    "text": "This report was developed as a deliverable for the term project in DSCI 522 (Data Science Workflows), a course in the Master of Data Science program at the University of British Columbia.\nThe overall objective of this project was to automate a typical data science workflow. This report summarizes the results of a series of automated Python scripts that handle tasks such as data retrieval, data cleaning, exploratory data analysis (EDA), creation of a predictive machine learning model, and interpretation of the results. The report provides a detailed explanation of each step, applying it to the specific context of the dataset in question. It assumes the reader has a basic understanding of machine learning terminology and concepts."
  },
  {
    "objectID": "yellow_taxi_analysis.html#preface",
    "href": "yellow_taxi_analysis.html#preface",
    "title": "NYC Taxis Fare Prediction Analysis Report",
    "section": "",
    "text": "This report was developed as a deliverable for the term project in DSCI 522 (Data Science Workflows), a course in the Master of Data Science program at the University of British Columbia.\nThe overall objective of this project was to automate a typical data science workflow. This report summarizes the results of a series of automated Python scripts that handle tasks such as data retrieval, data cleaning, exploratory data analysis (EDA), creation of a predictive machine learning model, and interpretation of the results. The report provides a detailed explanation of each step, applying it to the specific context of the dataset in question. It assumes the reader has a basic understanding of machine learning terminology and concepts."
  },
  {
    "objectID": "yellow_taxi_analysis.html#summary",
    "href": "yellow_taxi_analysis.html#summary",
    "title": "NYC Taxis Fare Prediction Analysis Report",
    "section": "2 Summary",
    "text": "2 Summary\nThis report presents a linear regression model developed to predict NYC taxi fare amount. Using data from 30,000 taxi trips in January 2024, we build a linear regression model using trip distance feature, with each additional mile increasing the fare by approximately $3.54. The model was evaluated using a test dataset, where predicted fare amounts were compared to actual fares. While the model performed well overall, some outliers were identified, suggesting the need for further data cleaning and additional features to improve accuracy. Future steps include incorporating more features, experimenting with other regression models like KNN and Lasso regression, and addressing hyperparameters for better generalizability and performance."
  },
  {
    "objectID": "yellow_taxi_analysis.html#introduction-background",
    "href": "yellow_taxi_analysis.html#introduction-background",
    "title": "NYC Taxis Fare Prediction Analysis Report",
    "section": "3 Introduction & Background",
    "text": "3 Introduction & Background\nTaking a taxi in New York City can be overwhelming for first-time visitors, especially for tourists unfamiliar with the city’s layout and fare system. With over 200,000 taxi trips taking place daily, yellow cabs remain an essential mode of transportation for both locals and visitors. However, the lack of transparency often leads to concerns among tourists about overcharging or being taken on unnecessarily long routes.\nTo address these concerns, we use data from 30,000 Yellow Taxi trips recorded in January 2024, provided by the NYC Taxi and Limousine Commission (TLC). Our analysis examines how to predict taxi fare amounts, offering valuable insights to help tourists better understand what they should expect to pay for a taxi ride in NYC. By leveraging data-driven analysis, we aim to provide a clearer and more predictable fare structure, enabling tourists to make more informed decisions during their travels in the city."
  },
  {
    "objectID": "yellow_taxi_analysis.html#analysis-question",
    "href": "yellow_taxi_analysis.html#analysis-question",
    "title": "NYC Taxis Fare Prediction Analysis Report",
    "section": "4 Analysis Question",
    "text": "4 Analysis Question\nHow do we best predict NYC yellow taxi fare amounts?"
  },
  {
    "objectID": "yellow_taxi_analysis.html#dataset",
    "href": "yellow_taxi_analysis.html#dataset",
    "title": "NYC Taxis Fare Prediction Analysis Report",
    "section": "5 Dataset",
    "text": "5 Dataset\nThe data set used in this project is the TLC Trip Record Data, which includes taxi and for-hire vehicle trip records collected by technology providers authorized under the Taxicab & Livery Passenger Enhancement Programs (TPEP/LPEP). This data is sourced from the NYC Taxi and Limousine Commission (TLC) and can be accessed from the [NYC Taxi and Limousine Commission’s website](Taxi and Commission 2024)(https://www.nyc.gov/site/tlc/about/tlc-trip-record-data.page). Yellow and green taxi trip records contain fields capturing pick-up and drop-off dates and times, pick-up and drop-off locations, trip distances, itemized fares, rate types, payment types, and driver-reported passenger counts. Similarly, For-Hire Vehicle (FHV) trip records include fields such as dispatching base license number, pick-up date and time, and taxi zone location ID. It is important to note that the TLC did not create this data and makes no representations regarding its accuracy. FHV trip records are based on submissions from dispatching bases and may not represent the total volume of trips. Additionally, the TLC reviews these records and enforces necessary actions to improve their accuracy and completeness."
  },
  {
    "objectID": "yellow_taxi_analysis.html#methods-results",
    "href": "yellow_taxi_analysis.html#methods-results",
    "title": "NYC Taxis Fare Prediction Analysis Report",
    "section": "6 Methods & Results",
    "text": "6 Methods & Results\n\n6.1 Methods\nIn order to address our research question, we will begin by selecting the appropriate features from the dataset through exploratory data analysis (EDA) and by consulting the data dictionary to better understand the instances within the dataset. Since this is a linear regression modeling problem, we will use the LinearRegression model as our model of choice. Linear regression is a fundamental and widely used method for predictive modeling. The dataset used in this study includes daily fare amounts and trip distance data from January 2024, covering 30,000 observations. The data will be split into training and test sets, with 70% allocated for training and 30% for testing.\nThe analysis will be conducted using the Python programming language (Van Rossum and Drake 2009), with the following Python packages: numpy (Harris et al. 2020), pandas (McKinney 2010), scikit-learn (Pedregosa et al. 2011), and altair (VanderPlas 2018).\n\n\n6.2 EDA\nLets do some data validation by checking the target variable fare_amount’s distribution:\n\n\n\n\n\n\nFigure 1: Fare Amount Density Chart\n\n\n\nBased on Figure 1, we see that most values of the fare amount make sense - they are mostly under $50, with a cluster of fare amounts at around 65 USD, likely a longer trip from the airport. However, we see fare amounts that are lower that 0 which are not explained by the documentation, that “The time-and-distance fare calculated by the meter.” They might be simply refunded trips, but since we cannot confirm, we will choose to drop rows where the fare amount is negative.\nWe’ll split the dataset into training set and test set.\nNow, we’ll perform a summary of the data set that is relevant for exploratory data analysis related to our regression analysis. We’ll check out the summary statistics for each column in the dataset.\n\n\n\n\nTable 1: Data Set Summary\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVendorID\ntpep_pickup_datetime\ntpep_dropoff_datetime\npassenger_count\ntrip_distance\nRatecodeID\nPULocationID\nDOLocationID\npayment_type\nfare_amount\nextra\nmta_tax\ntip_amount\ntolls_amount\nimprovement_surcharge\ntotal_amount\ncongestion_surcharge\nAirport_fee\n\n\n\n\n20720\n20720\n20720\n19690\n20720\n19690\n20720\n20720\n20720\n20720\n20720\n20720\n20720\n20720\n20720\n20720\n19690\n19690\n\n\n1.74976\n2024-01-17 00:46:01.533832\n2024-01-17 01:01:38.636196\n1.3387\n3.19747\n2.03403\n166.394\n165.39\n1.13436\n18.5866\n1.48258\n0.49527\n3.37729\n0.525144\n0.999628\n27.3619\n2.31061\n0.143448\n\n\n1\n2024-01-01 00:06:10\n2024-01-01 00:10:03\n0\n0\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n1\n2024-01-09 16:07:26.750000\n2024-01-09 16:26:42.250000\n1\n1\n1\n132\n114\n1\n8.6\n0\n0.5\n1\n0\n1\n15.48\n2.5\n0\n\n\n2\n2024-01-17 10:28:41\n2024-01-17 10:46:02\n1\n1.68\n1\n162\n163\n1\n12.8\n1\n0.5\n2.8\n0\n1\n20.16\n2.5\n0\n\n\n2\n2024-01-24 17:47:47\n2024-01-24 18:01:19.500000\n1\n3.1\n1\n234\n236\n1\n20.5\n2.5\n0.5\n4.2\n0\n1\n28.6\n2.5\n0\n\n\n6\n2024-01-31 23:56:14\n2024-02-01 00:15:56\n8\n68.48\n99\n265\n265\n4\n600\n11.75\n4\n99\n62.75\n1\n601\n2.5\n1.75\n\n\n0.434275\nnan\nnan\n0.844332\n4.31842\n9.65642\n63.626\n69.4664\n0.527717\n17.8768\n1.79912\n0.0549392\n3.8067\n2.09673\n0.0190096\n22.1385\n0.66147\n0.480072\n\n\n\n\n\n\n\n\nBased on the summary statistics in Table 1, for the fare amount, the mean fare amount is 18.59 USD, while the median is 12.8 USD, which again points to a right-skewed distribution for this column. This confirms what we saw with the density chart.\nNext, we’ll create a correlation plot of all of the columns against one another, to check out the strength and direction of associations between columns.\n\n\n\n\n\n\nFigure 2: Correlation Plot\n\n\n\nBased on Figure 2, we see that “trip_distance” and “fare_amount” have a fairly high positive correlation, which may indicate that they are fairly positively associated with each other. We decide now to use “trip_distance” to try and predict “fare_amount”. Since there are no null values in “trip_distance”, no null values need to be dropped for “trip_distance”.\n\n\n6.3 Modeling\nAs discussed in the Methods summary, we will now build and test our Linear Regression Model.\nThe regression line formula is: y_hat = 3.62 * trip_distance + 7.02\nFinally, let’s calculate some error metrics and perform a visualization of the result of the regression model in the form of a scatter plot with the regression line.\n\n\n\n\nTable 2: Regression Performance Metrics\n\n\n\n\n\n\nMetric\nValue\n\n\n\n\nRMSE\n6.78282\n\n\nR²\n0.848052\n\n\nMAE\n3.23701\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 3: Predicted vs Actual Taxi Fare Amounts With Error Line\n\n\n\nLastly in Figure 4, here is the regression line for the predictions.\n\n\n\n\n\n\nFigure 4: Regression of Trip Distance vs Fare Amount for NYC Yellow Taxis in January 2024\n\n\n\n\n\n6.4 Results\nThe objective of the analysis was to predict the fare amount using a linear regression model. The regression plot, generated from the model, demonstrates a positive linear relationship between trip distance and fare amount for NYC Yellow Taxis in January 2024. This confirms that as the trip distance increases, the fare amount also increases, as expected.\nThe linear regression model shows moderate predictive power with an R-squared value of 0.85, which explains about high percent of fare variance. The low MAE of 3.24 USD indicates good accuracy for typical rides, although the higher RMSE (6.78 USD) suggests sensitivity to outliers. The visual analysis of the errors reveals the model performs best for the 10-50 USD range, and underestimates fares over 100 USD. The actual NYC taxi fare is calculated through initial fare, per-mile charge, and additional fees for peak hours, nighttime, tolls, etc that this model cannot predict, but can be built further using more complicated multilinear regression or ML models.\nBased on the estimated result from the regression line formula derived from the model, this suggests that for each additional mile traveled, the fare increases by approximately 3.62 USD, and the base fare (when the trip distance is zero) is around 7.02 USD.\nTo evaluate the model’s predictive performance, we applied it to the test data, which was split from the original dataset (70 percent training, 30 percent testing). The predicted fare amounts were compared against the actual fare amounts in the test set. The predicted values were calculated using the formula derived from the model, where trip distances from the test set were used as input to generate the corresponding fare predictions.\nA scatter plot of the actual fare amounts versus trip distances, along with the regression line, was generated to visualize the results. The plot showed that the model fits most of the data well, but there were some outliers where the predicted fare deviated significantly from the actual values. These discrepancies could be due to errors or special cases in the fare data."
  },
  {
    "objectID": "yellow_taxi_analysis.html#limitations-next-steps",
    "href": "yellow_taxi_analysis.html#limitations-next-steps",
    "title": "NYC Taxis Fare Prediction Analysis Report",
    "section": "7 Limitations & Next Steps",
    "text": "7 Limitations & Next Steps\nOverall, our model may be useful in the initial analysis of tourists interested in making informal predictions about NYC taxi fare amounts. However, there are several areas where this work can be improved. In this analysis, we did not include hyperparameters like the regularization parameter (α), which is essential for controlling overfitting and improving model generalizability. Furthermore, the model currently uses only a single feature (trip distance), which may result in underfitting and bias. In the next steps, we plan to incorporate more features into the model and refine the approach to improve its precision and predictive power. Additionally, experimenting with other regression models, such as KNN regression for non-linear relationships and Lasso regression for linear relationships, could be valuable to see if these models improve performance."
  }
]